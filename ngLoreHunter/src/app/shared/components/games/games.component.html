<div class="container-fluid title-container" style="background: var(--bkg-color) !important;">
  <h1 class="forum-list-title">Games list</h1>
</div>

<div class="breadcrumb-outer">
  <div class="breadcrumb-inner">
    <ol class="breadcrumbnav" style="padding:0;">
      <li class="breadcrumb-value" [routerLink]="['/home']">Discussion</li>
      <li class="breadcrumb-value" [routerLink]="['/games']">Games</li>
    </ol>
  </div>
</div>

<div class="p-container">

  <div class="p-main">
    <div class="p-filter">
      <div class="ghost-container" *ngIf="searchQuery !== ''">

      </div>
      <div *ngIf="searchQuery === ''" class="page-navigation">
        <a class="pageNav-prev pageNav" *ngIf="page !== 1" (click)="onPreviousPage()">Prev</a>
        <a class="pageNav-pages pageNav" [ngClass]="{'isCurrentPage': page === currentPage, 'notCurrentPage': page !== currentPage}" *ngFor="let page of pages" (click)="page === -1 ? onJumpToPageDialog() : onJumpToPage(page)">
          <!-- Display ellipsis for -1 values -->
          <ng-container *ngIf="page === -1">...</ng-container>
          <!-- Display page number for other values -->
          <ng-container *ngIf="page !== -1">{{ page }}</ng-container>
        </a>
        <a class="pageNav-next pageNav" *ngIf="page < totalPages" (click)="onNextPage()">Next</a>
      </div>
      <div class="queryInputElement">
        <input type="text"gi [(ngModel)]="searchQuery" (input)="searchGames(searchQuery)" placeholder="Search games by name">
      </div>

    </div>

    <div *ngIf="isLoading">
      <mat-progress-spinner color="primary" mode="indeterminate"></mat-progress-spinner>
    </div>

      <div  *ngIf="searchResults" class="p-body">
        <div class="row item-grid2">
          <div class="card item-card" *ngFor="let game of searchResults" (click)="onCardClick($event)">
            <div class="item-card-image">
              <img src="{{ game.background_image }}" alt="Item Image" loading="lazy">
            </div>
            <div class="item-card-details">
              <h3 class="item-card-title">{{ game.name }}</h3>
              <p class="item-card-description">Released: {{ game.released }}</p>
              <p class="item-card-description">Metacritic: {{ game.metacritic }}</p>
              <p class="item-card-description">Playtime: {{ game.playtime }} hours</p>
              <div class="item-card-footer">

              </div>
            </div>
          </div>

        </div>
      </div>

    <div *ngIf="searchQuery === ''" class="p-body">
      <div class="row item-grid2">
        <div class="card item-card" *ngFor="let game of games" (click)="onCardClick($event)">
          <div class="item-card-image">
            <img src="{{ game.background_image }}" alt="Item Image">
          </div>
          <div class="item-card-details">
            <h3 class="item-card-title">{{ game.name }}</h3>
            <p class="item-card-description">Released: {{ game.released }}</p>
            <p class="item-card-description">Metacritic: {{ game.metacritic }}</p>
            <p class="item-card-description">Playtime: {{ game.playtime }} hours</p>
            <div class="item-card-footer">

            </div>
          </div>
        </div>

      </div>
    </div>

  </div>

</div>

<div class="breadcrumb-outer-bottom">
  <div class="breadcrumb-inner">
    <ol class="breadcrumbnav" style="padding:0;">
      <li class="breadcrumb-value" [routerLink]="['/home']">Discussion</li>
      <li class="breadcrumb-value" [routerLink]="['/games']">Games</li>
    </ol>
  </div>
</div>
