<div class="breadcrumb-outer">
  <div class="breadcrumb-inner">
    <ol class="breadcrumbnav" style="padding:0;">
      <li class="breadcrumb-value" [routerLink]="['/home']">Discussion</li>
      <li class="breadcrumb-value" [routerLink]="['/users/' + profileUser.id]">{{ profileUser.username }}'s Profile</li>
    </ol>
  </div>
</div>

<div class="p-body">
  <div class="p-body-inner">
    <div class="p-body-main">
      <div class="p-body-content">
        <div class="p-body-pageContent">
          <div class="block">
            <div class="block-container">
              <div class="block-body">
                <div class="member-header">
                  <div class="member-banner" style="background-image: url({{profileUser.bannerImage}});">
                    <div class="member-main-content">
                      <span class="member-avatar">
                        <span class="avatar-wrapper">
                          <a class="avatar-url"><img class="user-profile-avatar" [style.background-image]="'url(' + profileUser.imageUrl + ')'" [style.background-position]="'center'"></a>
                        </span>
                      </span>
                      <div class="memberHeader-content">
                        <div class="memberHeader-action">
                          <div class="button-group" *ngIf="profileUser.id === loggedInUser.id">
                            <button mat-raised-button color="primary" (click)="openDialog()">Edit</button>
                          </div>
                        </div>
                        <h1 class="member-header-name">
                          <span class="name-wrapper">
                            <span class="username">{{ profileUser.username }}</span>
                          </span>
                        </h1>
                        <div class="member-header-blurbContainer">
                          <div class="member-header-blurb">
                            <span class="user-account-status" *ngIf="profileUser.role === 'STANDARD'">Member</span>
                            <span class="user-account-status" *ngIf="profileUser.role === 'ADMIN'">Admin</span>
                          </div>
                          <div class="member-header-blurbMessage">
                            <span class="user-bannerMessage">{{ profileUser.bannerMessage }}</span>
                          </div>
                          <div class="member-header-blurb">
                            <dl class="activity-pairs">
                              <dt class="blurb-data">Joined: </dt>
                              <dd class="blurb-data">{{ profileUser.createdAt | timeAgo }}</dd>
                            </dl>
                          </div>
                          <div class="member-header-blurb">
                            <dl class="activity-pairs">
                              <dt class="blurb-data">Last activity: </dt>
                              <dd class="blurb-data">{{ profileUser.lastActivity | timeAgo }}</dd>
                            </dl>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="member-header-content">
                    <!-- <div title="Metascore" class="user-stats-label">
                      {{ game.metacritic }}
                    </div> -->
                    <div class="member-header-stats">
                      <div class="pairs-justified">
                        <dl class="stats-pairs">
                          <dt class="stats-title">Posts</dt>
                          <dd>
                            <div class="user-stats-label">
                              <a [routerLink]="['/users', profileUser.id, 'posts']">{{ postsCount }}</a>
                            </div>
                          </dd>
                        </dl>
                        <dl class="stats-pairs">
                          <dt class="stats-title">Comments</dt>
                          <dd>
                            <div class="user-stats-label">
                              <a [routerLink]="['/users', profileUser.id, 'comments']">{{ commentsCount }}</a>
                            </div>
                          </dd>
                        </dl>
                        <dl class="stats-pairs">
                          <dt class="stats-title">Following</dt>
                          <dd>
                            <div class="user-stats-label">
                              <a [routerLink]="['/users', profileUser.id, 'following']">{{ followingCount$ | async }}</a>
                            </div>
                          </dd>
                        </dl>
                        <dl class="stats-pairs">
                          <dt class="stats-title">Followers</dt>
                          <dd>
                            <div class="user-stats-label">
                              <a [routerLink]="['/users', profileUser.id, 'followers']">{{ followersCount$ | async }}</a>
                            </div>
                          </dd>
                        </dl>
                        <dl class="stats-pairs">
                          <div *ngIf="isComponentLoaded">
                            <ng-container *ngIf="profileUser.id !== loggedInUser.id && loggedIn()">
                              <button mat-button color="primary" (click)="toggleFollow()">
                                {{ followButtonLabel }}
                              </button>
                            </ng-container>
                          </div>
                        </dl>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- material table with user comments and posts here -->
          <div class="wrapper">

          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="breadcrumb-outer-bottom">
  <div class="breadcrumb-inner">
    <ol class="breadcrumbnav" style="padding:0;">
      <li class="breadcrumb-value" [routerLink]="['/home']">Discussion</li>
      <li class="breadcrumb-value" [routerLink]="['/users/' + profileUser.id]">{{ profileUser.username }}'s Profile</li>
    </ol>
  </div>
</div>
